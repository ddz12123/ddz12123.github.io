"use strict";(globalThis.webpackChunkfontend_doc=globalThis.webpackChunkfontend_doc||[]).push([[1570],{1889:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>p,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp/Uniapp \u5957\u58f3h5\u6253\u5305app","title":"Uniapp \u5957\u58f3h5\u6253\u5305app","description":"1. \u7b80\u4ecb","source":"@site/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp/Uniapp \u5957\u58f3h5\u6253\u5305app.md","sourceDirName":"\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp","slug":"/\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp/Uniapp \u5957\u58f3h5\u6253\u5305app","permalink":"/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp/Uniapp \u5957\u58f3h5\u6253\u5305app","draft":false,"unlisted":false,"editUrl":"https://github.com/ddz12123/ddz12123.github.io/tree/main/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp/Uniapp \u5957\u58f3h5\u6253\u5305app.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Uni-app \u9274\u6743\u7cfb\u7edf","permalink":"/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp/uni-app\u9274\u6743"},"next":{"title":"uniapp \u5e38\u7528 UI \u7ec4\u4ef6\u5e93","permalink":"/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Uniapp/uniapp \u5e38\u7528UI\u7ec4\u4ef6\u5e93"}}');var i=e(7259),a=e(9087);const p={},s="Uniapp \u5957\u58f3h5\u6253\u5305app",c={},o=[{value:"1. \u7b80\u4ecb",id:"1-\u7b80\u4ecb",level:2},{value:"2. \u5b9e\u73b0\u4ee3\u7801",id:"2-\u5b9e\u73b0\u4ee3\u7801",level:2},{value:"2.1 pages/index/index.vue",id:"21-pagesindexindexvue",level:3}];function d(t){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"uniapp-\u5957\u58f3h5\u6253\u5305app",children:"Uniapp \u5957\u58f3h5\u6253\u5305app"})}),"\n",(0,i.jsx)(n.h2,{id:"1-\u7b80\u4ecb",children:"1. \u7b80\u4ecb"}),"\n",(0,i.jsx)(n.admonition,{title:"\u6ce8\u610f",type:"tip",children:(0,i.jsx)(n.p,{children:"httpUrl \u662f\u4f60\u8981\u5957\u58f3\u7684\u7684h5\u7f51\u5740\u3002onReady\u4e2d\u9700\u8981\u4fee\u6539\u4e00\u4e0b\u4f60\u9996\u9875\u7684\u6807\u9898\uff0c\u76ee\u7684\u662f\u53bb\u9664\u6253\u5305\u540eAPP\u9996\u9875\u5bfc\u822a\u680f\u7684\u8fd4\u56de\u6309\u94ae\u3002"})}),"\n",(0,i.jsx)(n.h2,{id:"2-\u5b9e\u73b0\u4ee3\u7801",children:"2. \u5b9e\u73b0\u4ee3\u7801"}),"\n",(0,i.jsx)(n.h3,{id:"21-pagesindexindexvue",children:"2.1 pages/index/index.vue"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-vue",metastring:"[/pages/index/index.vue]",children:'\r\n<template>\r\n\t<view class="content">\r\n\t\t<web-view v-if="httpUrl" :src=\'httpUrl\'></web-view>\r\n\t\t<view v-else>\r\n\t\t\t\u7cfb\u7edf\u5f02\u5e38,\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5904\u7406\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar wv;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thttpUrl: null,\r\n\t\t\t\tcanBack: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonNavigationBarButtonTap(e) {\r\n\t\t\tif (wv) {\r\n\t\t\t\twv.back();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.httpUrl = `http://xxxxxxxxxxxxxx/`;\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t},\r\n\t\tonBackPress(from) {\r\n\t\t\tif (wv && this.canBack) {\r\n\t\t\t\twv.back();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tvar self = this;\r\n\t\t\tvar currentWebview = this.$scope.$getAppWebview();\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\twv = currentWebview.children()[0];\r\n\t\t\t\twv.addEventListener(\r\n\t\t\t\t\t"progressChanged",\r\n\t\t\t\t\tfunction(e) {\r\n\t\t\t\t\t\twv.canBack(function(e) {\r\n\t\t\t\t\t\t\tself.canBack = e.canBack;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\t\t\t\twv.addEventListener(\r\n\t\t\t\t\t"titleUpdate",\r\n\t\t\t\t\tfunction(e) {\r\n\t\t\t\t\t\tif (e.title?.includes(\'\u9996\u9875\u6807\u9898\')) {\r\n\t\t\t\t\t\t\tlet pages = getCurrentPages();\r\n\t\t\t\t\t\t\tlet page = pages[pages.length - 1];\r\n\t\t\t\t\t\t\tlet currentWebview = page.$getAppWebview();\r\n\t\t\t\t\t\t\tcurrentWebview.setTitleNViewButtonStyle(0, {\r\n\t\t\t\t\t\t\t\ttext: "",\r\n\t\t\t\t\t\t\t\twidth: 0\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet pages = getCurrentPages();\r\n\t\t\t\t\t\t\tlet page = pages[pages.length - 1];\r\n\t\t\t\t\t\t\tlet currentWebview = page.$getAppWebview();\r\n\t\t\t\t\t\t\tcurrentWebview.setTitleNViewButtonStyle(0, {\r\n\t\t\t\t\t\t\t\ttype: "back",\r\n\t\t\t\t\t\t\t\twidth: "auto"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\t\t\t}, 500); //\u5982\u679c\u662f\u9875\u9762\u521d\u59cb\u5316\u8c03\u7528\u65f6\uff0c\u9700\u8981\u5ef6\u65f6\u4e00\u4e0b\r\n\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n<\/script>\r\n\r\n<style>\r\n\t.content {}\r\n</style>\r\n\n'})})]})}function l(t={}){const{wrapper:n}={...(0,a.R)(),...t.components};return n?(0,i.jsx)(n,{...t,children:(0,i.jsx)(d,{...t})}):d(t)}},9087:(t,n,e)=>{e.d(n,{R:()=>p,x:()=>s});var r=e(6363);const i={},a=r.createContext(i);function p(t){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof t?t(n):{...n,...t}},[n,t])}function s(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:p(t.components),r.createElement(a.Provider,{value:n},t.children)}}}]);