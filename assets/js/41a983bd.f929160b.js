"use strict";(globalThis.webpackChunkfontend_doc=globalThis.webpackChunkfontend_doc||[]).push([[4841],{5046:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"\u524d\u7aef\u77e5\u8bc6\u5e93/Docker/vue\u9879\u76eedocker\u90e8\u7f72","title":"vue\u9879\u76eedocker\u90e8\u7f72","description":"1. \u4f7f\u7528Dockerfile\u90e8\u7f72","source":"@site/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Docker/vue\u9879\u76eedocker\u90e8\u7f72.md","sourceDirName":"\u524d\u7aef\u77e5\u8bc6\u5e93/Docker","slug":"/\u524d\u7aef\u77e5\u8bc6\u5e93/Docker/vue\u9879\u76eedocker\u90e8\u7f72","permalink":"/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Docker/vue\u9879\u76eedocker\u90e8\u7f72","draft":false,"unlisted":false,"editUrl":"https://github.com/ddz12123/ddz12123.github.io/tree/main/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Docker/vue\u9879\u76eedocker\u90e8\u7f72.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"vitepress \u90e8\u7f72","permalink":"/docs/\u524d\u7aef\u77e5\u8bc6\u5e93/Docker/vitepress\u90e8\u7f72"},"next":{"title":"\ud83d\udcd1Docusaurus\u6587\u6863\u7ad9","permalink":"/docs/category/docusaurus-guide"}}');var c=r(7259),i=r(9087);const s={},d="vue\u9879\u76eedocker\u90e8\u7f72",l={},t=[{value:"1. \u4f7f\u7528Dockerfile\u90e8\u7f72",id:"1-\u4f7f\u7528dockerfile\u90e8\u7f72",level:2},{value:"1.1 \u591a\u9636\u6bb5\u6784\u5efaDockerfile",id:"11-\u591a\u9636\u6bb5\u6784\u5efadockerfile",level:3},{value:"1.2 Nginx\u914d\u7f6e\u793a\u4f8b (nginx.conf)",id:"12-nginx\u914d\u7f6e\u793a\u4f8b-nginxconf",level:3},{value:"1.3 \u6784\u5efa\u5e76\u8fd0\u884c\u547d\u4ee4",id:"13-\u6784\u5efa\u5e76\u8fd0\u884c\u547d\u4ee4",level:3},{value:"2. \u4f7f\u7528docker-compose\u90e8\u7f72",id:"2-\u4f7f\u7528docker-compose\u90e8\u7f72",level:2},{value:"2.1 docker-compose.yml\u793a\u4f8b",id:"21-docker-composeyml\u793a\u4f8b",level:3},{value:"2.2 \u542f\u52a8\u547d\u4ee4",id:"22-\u542f\u52a8\u547d\u4ee4",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"vue\u9879\u76eedocker\u90e8\u7f72",children:"vue\u9879\u76eedocker\u90e8\u7f72"})}),"\n",(0,c.jsx)(n.h2,{id:"1-\u4f7f\u7528dockerfile\u90e8\u7f72",children:"1. \u4f7f\u7528Dockerfile\u90e8\u7f72"}),"\n",(0,c.jsx)(n.h3,{id:"11-\u591a\u9636\u6bb5\u6784\u5efadockerfile",children:"1.1 \u591a\u9636\u6bb5\u6784\u5efaDockerfile"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-dockerfile",children:'# \u6784\u5efa\u9636\u6bb5\r\nFROM node:18-alpine as build-stage\r\nWORKDIR /app\r\nCOPY package*.json ./\r\nRUN npm install\r\nCOPY . .\r\nRUN npm run build\r\n\r\n# \u751f\u4ea7\u9636\u6bb5\r\nFROM nginx:stable-alpine as production-stage\r\nCOPY --from=build-stage /app/dist /usr/share/nginx/html\r\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\r\nEXPOSE 80\r\nCMD ["nginx", "-g", "daemon off;"]\n'})}),"\n",(0,c.jsx)(n.h3,{id:"12-nginx\u914d\u7f6e\u793a\u4f8b-nginxconf",children:"1.2 Nginx\u914d\u7f6e\u793a\u4f8b (nginx.conf)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-nginx",children:"server {\r\n    listen 80;\r\n    server_name localhost;\r\n\r\n    location / {\r\n        root /usr/share/nginx/html;\r\n        index index.html;\r\n        try_files $uri $uri/ /index.html;\r\n    }\r\n\r\n    error_page 500 502 503 504 /50x.html;\r\n    location = /50x.html {\r\n        root /usr/share/nginx/html;\r\n    }\r\n}\n"})}),"\n",(0,c.jsx)(n.h3,{id:"13-\u6784\u5efa\u5e76\u8fd0\u884c\u547d\u4ee4",children:"1.3 \u6784\u5efa\u5e76\u8fd0\u884c\u547d\u4ee4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker build -t vue-app .\r\ndocker run -d -p 8080:80 vue-app\n"})}),"\n",(0,c.jsx)(n.h2,{id:"2-\u4f7f\u7528docker-compose\u90e8\u7f72",children:"2. \u4f7f\u7528docker-compose\u90e8\u7f72"}),"\n",(0,c.jsx)(n.h3,{id:"21-docker-composeyml\u793a\u4f8b",children:"2.1 docker-compose.yml\u793a\u4f8b"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'version: \'3.8\'\r\n\r\nservices:\r\n  frontend:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - "8080:80"\r\n    restart: unless-stopped\r\n\r\n  # \u53ef\u9009\u7684Nginx\u53cd\u5411\u4ee3\u7406\u670d\u52a1\r\n  nginx:\r\n    image: nginx:stable-alpine\r\n    ports:\r\n      - "80:80"\r\n    volumes:\r\n      - ./nginx.conf:/etc/nginx/conf.d/default.conf\r\n      - ./dist:/usr/share/nginx/html\r\n    depends_on:\r\n      - frontend\n'})}),"\n",(0,c.jsx)(n.h3,{id:"22-\u542f\u52a8\u547d\u4ee4",children:"2.2 \u542f\u52a8\u547d\u4ee4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},9087:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>d});var o=r(6363);const c={},i=o.createContext(c);function s(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);